!function(e){"use strict";window.houzezOpenStreetMapElementor=function(t,o,n){if(void 0!==o&&0<o.length){var i,r,a=new Array,l=(new Array,0),s=n.mapbox_api_key,c=n.zoomControl,m=n.infoWindowPlac,p=(n.clusterIcon,n.clusterer_zoom,function(e){return"yes"==e}),g=p(n.mapCluster);if(""!=s)var u=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token="+s,{attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',tileSize:512,maxZoom:18,zoomOffset:-1,id:"mapbox/streets-v11",accessToken:"YOUR_MAPBOX_ACCESS_TOKEN"});else u=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});e("#houzez-gmap-next").on("click",function(){!function(e){for(++l>a.length&&(l=1);!1===a[l-1].visible;)++l>a.length&&(l=1);e.getZoom()<15&&e.setZoom(15),e.setView(a[l-1].getLatLng()),a[l-1]._icon||a[l-1].__parent.spiderfy(),e.setZoom(20),l-1==0||l-1==a.length?setTimeout(function(){a[l-1].fire("click")},500):a[l-1].fire("click")}(i)}),e("#houzez-gmap-prev").on("click",function(){!function(e){for(--l<1&&(l=a.length);!1===a[l-1].visible;)--l>a.length&&(l=1);e.getZoom()<15&&e.setZoom(15),e.setView(a[l-1].getLatLng()),a[l-1]._icon||a[l-1].__parent.spiderfy(),e.setZoom(20),l-1==0||l==a.length?setTimeout(function(){a[l-1].fire("click")},500):a[l-1].fire("click")}(i)});var d=function(e){for(var t=[],o=0;o<e.length;o++)e[o].lat&&e[o].lng&&t.push([e[o].lat,e[o].lng]);return t};if(o.length>0){var f=d(o),h=L.latLng(25.68654,-80.431345);1==f.length&&(h=L.latLng(f[0]));n={dragging:!0,center:h,zoomControl:p(c),zoom:10,tap:!0};(i=L.map(document.getElementById(t),n)).scrollWheelZoom.disable(),1<f.length&&i.fitBounds(f),i.addLayer(u),document.getElementById("listing-mapzoomin")&&(v=i,e("#listing-mapzoomin").on("click",function(){var e=parseInt(v.getZoom(),10);console.log(e),++e>20&&(e=20),console.log("=="+e+" ++ "),v.setZoom(e)})),document.getElementById("listing-mapzoomout")&&function(t){e("#listing-mapzoomout").on("click",function(){var e=parseInt(t.getZoom(),10);console.log(e),--e<0&&(e=0),console.log("=="+e+" -- "),t.setZoom(e)})}(i),function(e,t){var o,n=d(e);1<n.length&&t.fitBounds(n),g&&(r=new L.MarkerClusterGroup({iconCreateFunction:function(e){var t='<div class="houzez-osm-cluster">'+e.getAllChildMarkers().length+"</div>";return L.divIcon({html:t,className:"mycluster",iconSize:L.point(47,47)})},spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0}));for(var i=0;i<e.length;i++)if(e[i].lat&&e[i].lng){var l=e[i],s=L.latLng(l.lat,l.lng),c={riseOnHover:!0};if(l.title&&(c.title=l.title),l.marker){var p={iconUrl:l.marker,iconSize:[44,56],iconAnchor:[20,57],popupAnchor:[1,-57]};l.retinaMarker&&(p.iconRetinaUrl=l.retinaMarker),c.icon=L.icon(p)}o=1==g?new L.Marker(s,c):L.marker(s,c).addTo(t),1==g&&r.addLayer(o);var u=document.createElement("div");u.className="map-info-window";var f="";f+='<div class="item-wrap">',f+='<div class="item-header">',e[i].thumbnail?f+='<a href="'+e[i].url+'"><img class="img-fluid" src="'+e[i].thumbnail+'" alt="'+e[i].title+'"/></a>':f+='<a href="'+e[i].url+'"><img class="img-fluid" src="'+m+'" alt="'+e[i].title+'"/></a>',f+="</div>",f+='<div class="item-body flex-grow-1">',f+='<h2 class="item-title">',f+='<a href="'+e[i].url+'">'+e[i].title+"</a>",f+="</h2>",f+='<ul class="list-unstyled item-info">',e[i].price&&(f+='<li class="item-price">'+e[i].price+"</li>"),e[i].property_type&&(f+='<li class="item-type">'+e[i].property_type+"</li>"),f+="</ul>",f+="</div>",f+="</div>",u.innerHTML=f,a.push(o),o.bindPopup(u)}1==g&&t.addLayer(r)}(o,i)}else{(i=L.map(document.getElementById(t),{center:[25.68654,-80.431345],zoom:10})).addLayer(u),i.scrollWheelZoom.disable()}}var v}}(jQuery);